## mysql索引
如何理解索引，对于这个问题我们需要联想我们平时看书的场景？如果我们再看一本书的时候想要快速到想看的章节我们一般会通过目录去找到具体的地方，这里的目录就是mysql中的索引的概念。通过索引我们加快查询的时间，相对于从头到尾的去查询。索引其实就是通过空间换时间的方式提高效率，因此虽然通过索引提高了查询但同时会降低写的性能。
### 索引模型
对于索引的实现方式有多种，比如Hash表，顺序数组，二叉搜索树等
1.Hash表通过建立key-value的数据结构来实现索引，将索引的字段用作hash表的key，查询的数据就用作hash的value。但是hash的key的可能会重复，因此value可以放成一个连表。
2.顺序数组，通过顺序数组建立索引可以利用二分法进行查找。而且通过顺序数组还能实现一个范围内的同时查询。但是顺序数组不适合经常数据的改动的场景，因为数据的改动会引起索引的变动可能会引起位置的移动。
3.二叉搜索树，在二叉搜索树的模型里左节点小于父节点，父节点小于右节点。非叶子节点只存放索引数据实际的数据存放只存放在叶子节点中。
### Innodb索引模型
在mysql中索引的实现是放在数据引擎中实现的，这里我们就讨论innodb的索引模型。Innodb通过B+树实现索引，每一个索引在innodb里面对应一个B+树。Innodb的索引主要分为主键索引、普通索引两种类型，主键索引的叶子节点存的是整行数据，普通索引的叶子节点内容是主键的值，所以通过普通索引查询整行的数据时会进行回表操作。先通过普通索引树查找主键的值然后再通过主键索引查找数据。
#### 通过索引优化查询的方法
1. 覆盖索引
覆盖索引值的是将需要查询的列创建成索引，那么查询的时候就不会有回表的操作。通过消除回表的查询，因而提高查询效率。覆盖索引只能通过Innodb的B+树方式实现，因为它的非叶子节点存储的是索引值。
2. 最左前缀原则
最左前缀原则是在有多个字段组成的联合索引上的，当多个字段组成联合索引时查询使用索引的方式是从左到右依次选择不能跳过中间某个字段，否则不会使用改索引。
4. 索引下推
索引下推指的是通过增加联合索引字段的d
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTMwMjE4ODIyOCwyMTIwMzY0MTk0LDUxND
Y2NzgzOSwxMTgxMTUxMTY1LC0xMDk4OTA0NzIwLDI0MDQ2MjU1
Nyw2MzIxNTkwOTFdfQ==
-->